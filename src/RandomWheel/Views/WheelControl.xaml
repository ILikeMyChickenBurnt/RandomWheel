<UserControl x:Class="RandomWheel.Views.WheelControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent"
             ClipToBounds="False"
             SizeChanged="UserControl_SizeChanged">
    <!-- Outer container with zoom transform -->
    <Grid x:Name="WheelContainer" Background="Transparent" ClipToBounds="False">
        <Grid.RenderTransform>
            <ScaleTransform x:Name="WheelZoom" ScaleX="1" ScaleY="1" />
        </Grid.RenderTransform>
        <Grid.RenderTransformOrigin>
            <Point X="0.5" Y="0"/>
        </Grid.RenderTransformOrigin>
        
        <!-- Inner Grid that ROTATES (contains wheel segments) -->
        <Grid x:Name="WheelGrid" ClipToBounds="True">
            <Grid.RenderTransform>
                <RotateTransform x:Name="WheelRotation" Angle="0" />
            </Grid.RenderTransform>
            
            <!-- Canvas for wheel segments -->
            <Canvas x:Name="WheelCanvas" ClipToBounds="True" />
        </Grid>
        
        <!-- Branding Logo - centered on wheel, does NOT rotate -->
        <Border x:Name="BrandingLogoBorder"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Visibility="Collapsed"
                Background="White"
                CornerRadius="1000"
                Padding="4">
            <Border.Effect>
                <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.3" />
            </Border.Effect>
            <Grid>
                <Ellipse x:Name="BrandingLogoClip" Width="80" Height="80" Fill="White" />
                <Image x:Name="BrandingLogoImage" Width="80" Height="80" Stretch="UniformToFill">
                    <Image.Clip>
                        <EllipseGeometry x:Name="BrandingLogoClipGeometry" Center="40,40" RadiusX="40" RadiusY="40" />
                    </Image.Clip>
                </Image>
            </Grid>
        </Border>
        
        <!-- Winner pointer - STATIC, fixed at top center, pointing DOWN into the wheel -->
        <Canvas x:Name="PointerCanvas" ClipToBounds="False">
            <Polygon x:Name="WinnerPointer"
                     Fill="#FF5722" 
                     Stroke="#000000"
                     StrokeThickness="3"
                     StrokeLineJoin="Round" />
        </Canvas>
    </Grid>
</UserControl>
